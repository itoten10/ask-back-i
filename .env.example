# ==============================================
# ASK Backend - 環境変数設定（サンプル）
# ==============================================
# このファイルをコピーして .env を作成してください
# cp .env.example .env

# ==============================================
# データベース設定
# ==============================================
# Azure MySQL接続情報
DB_USER=students
DB_PASSWORD=10th-tech0
DB_HOST=gen10-mysql-dev-01.mysql.database.azure.com
DB_PORT=3306
DB_NAME=ask

# SSL証明書のパス（Azure MySQL接続に必須）
# DigiCertGlobalRootG2.crt.pem をプロジェクトルートに配置
SSL_CA_PATH=./DigiCertGlobalRootG2.crt.pem

# ==============================================
# JWT認証設定
# ==============================================
# JWT署名用のシークレットキー（本番環境では必ず変更）
# 生成方法: openssl rand -base64 64
JWT_SECRET=Kvoi6EOplozlmmLsS4Ta3xCcCTj75V8K0S1+mb+VSgr3hHPtOMAboDcdr+ycVlij

# アクセストークンの有効期限（分）
ACCESS_TOKEN_TTL_MIN=60

# リフレッシュトークンの有効期限（日）
REFRESH_TOKEN_TTL_DAY=14

# ==============================================
# CORS設定
# ==============================================
# フロントエンドのURL（カンマ区切りで複数指定可能）
# ローカル開発
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# 本番環境（Azureデプロイ時）
# CORS_ORIGINS=https://ask-app-frontend-dev-01-eegwcccbctcjfhbb.eastus-01.azurewebsites.net

# ==============================================
# Cookie設定
# ==============================================
# リフレッシュトークン用のCookie名
REFRESH_COOKIE_NAME=refresh_token

# HTTPS必須フラグ（本番環境ではtrue）
REFRESH_COOKIE_SECURE=false

# Cookieのパス
REFRESH_COOKIE_PATH=/

# SameSite属性（lax/strict/none）
# ローカル開発: lax
# 異なるドメイン間: none（HTTPS必須）
REFRESH_COOKIE_SAMESITE=lax

# Cookieのドメイン（省略可、Azureデプロイ時は設定推奨）
# ローカル開発: 設定不要
# REFRESH_COOKIE_DOMAIN=ask-app-backend-dev-02-hzbkbnhvbcd2c9ak.eastus-01.azurewebsites.net

# ==============================================
# Google OAuth設定（オプション）
# ==============================================
# Google Cloud Consoleで取得
# https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8000/auth/google/callback

# 本番環境
# GOOGLE_REDIRECT_URI=https://ask-app-backend-dev-02-hzbkbnhvbcd2c9ak.eastus-01.azurewebsites.net/auth/google/callback

# ==============================================
# 2FA（2要素認証）設定
# ==============================================
# 一時トークンの有効期限（分）
TEMP_TOKEN_EXPIRATION_MINUTES=10

# レート制限を有効にするか
RATE_LIMIT_ENABLED=true

# レート制限: 最大試行回数
RATE_LIMIT_MAX_ATTEMPTS=5

# レート制限: ウィンドウ時間（分）
RATE_LIMIT_WINDOW_MINUTES=5

# TOTPシークレットを暗号化するか
ENCRYPT_TOTP_SECRET=false

# 暗号化キー（ENCRYPT_TOTP_SECRET=trueの場合必要）
# 生成方法: openssl rand -base64 32
ENCRYPTION_KEY=

# ==============================================
# 開発環境固有の設定
# ==============================================
# デバッグモード（開発時のみtrue）
# DEBUG=true

# ログレベル（DEBUG/INFO/WARNING/ERROR）
# LOG_LEVEL=INFO
